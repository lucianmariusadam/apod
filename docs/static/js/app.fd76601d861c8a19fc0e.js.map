{"version":3,"sources":["webpack:///src/components/Main.vue","webpack:///./src/components/Main.vue?4ebf","webpack:///./src/components/Main.vue","webpack:///src/App.vue","webpack:///./src/App.vue?9112","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["Main","name","data","msg","loadingMsg","status","cache","media","date","maxDate","width","height","loading","mounted","this","init","computed","mediaDate","imageUrl","media_type","url","videoUrl","explanation","methods","Date","setDate","getImage","prev","getDate","next","self","simpleDate","localStorage","getItem","getMediaFromCache","loadingOn","axios_default","a","get","then","response","setItem","stringify_default","catch","error","loadingOff","finally","JSON","parse","d","m","getMonth","getFullYear","components_Main","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","attrs","id","directives","rawName","value","expression","on","click","$event","src","load","staticRenderFns","App","components","__webpack_require__","normalizeComponent","ssrContext","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","Vue","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.fd76601d861c8a19fc0e.js","sourcesContent":["<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <h2>{{ simpleDate() }}</h2>\n    <h4 id=\"status\">{{ status }}</h4>\n    <div v-show=\"loading\" id=\"loading\">{{ loadingMsg }}</div>\n    <div v-show=\"!loading\">\n      <span class=\"button\" @click=\"prev()\">prev</span>\n      <span class=\"button\" @click=\"next()\">next</span>\n    </div>\n    <div v-show=\"!loading\">\n      <img v-show=\"imageUrl\" :src=\"imageUrl\" :width=\"width\" :height=\"height\" @load=\"loadingOff()\">\n      <iframe v-show=\"videoUrl\" :src=\"videoUrl\" :width=\"width\" :height=\"height\" @load=\"loadingOff()\"></iframe>\n      <div id=\"explanation\">{{ explanation }}</div>\n    </div>\n  </div>\n</template>\n\n<script>\n    import axios from 'axios';\n    var src='https://api.nasa.gov/planetary/apod?api_key=LhxNNyeOUIv4VadRAeUUcCFVNyFXnJNZArX8fn9Z&date=';\n\n    export default {\n        name: 'Main',\n        data() {\n            return {\n                msg: 'NASA - Astronomy Picture of the Day',\n                loadingMsg: 'loading ...',\n                status: '',\n                cache: {},\n                media: null,\n                date: null,\n                maxDate: null,\n                width: 320,\n                height: 240,\n                loading: false\n            }\n        },\n        mounted() {\n            this.init();\n        },\n        computed: {\n            mediaDate() {\n                return this.media ? this.media.date : '';\n            },\n            imageUrl() {\n                return (this.media && this.media.media_type === 'image') ? this.media.url : '';\n            },\n            videoUrl() {\n                return (this.media && this.media.media_type === 'video') ? this.media.url : '';\n            },\n            explanation() {\n                return this.media ? this.media.explanation : '';\n            }\n        },\n        methods: {\n            init() {\n                this.maxDate = new Date();\n                this.setDate();\n            },\n            setDate(date) {\n                if(typeof date === 'undefined') {\n                    this.date = new Date();\n                    return;\n                }\n\n                this.date.setDate(date);\n                this.getImage();\n            },\n            prev() {\n                this.setDate(this.date.getDate() - 1);\n            },\n            next() {\n                if(this.date >= this.maxDate) {\n                    return;\n                }\n                this.setDate(this.date.getDate() + 1);\n            },\n            getImage() {\n                const self = this;\n                let date = this.simpleDate();\n\n                this.media = null;\n\n                let cached = localStorage.getItem(date);\n\n                if(cached) {\n                    self.getMediaFromCache();\n                } else {\n                    const url = src + date;\n                    self.loadingOn();\n                    axios.get(url)\n                        .then(function (response) {\n                            let data = response.data;\n                            localStorage.setItem(date, JSON.stringify(data));\n                            self.getMediaFromCache();\n                        })\n                        .catch(function (error) {\n                            self.status = error.response.data.msg;\n                            self.loadingOff();\n                        })\n                        .finally(function () {\n                        });\n                }\n            },\n            getMediaFromCache() {\n                this.media = JSON.parse(localStorage.getItem(this.simpleDate()));\n                this.status = '';\n            },\n            loadingOn() {\n                this.loading = true;\n            },\n            loadingOff() {\n                this.loading = false;\n            },\n            simpleDate() {\n                if (!this.date) {\n                    return null;\n                }\n                var d = this.date.getDate();\n                var m = this.date.getMonth() + 1;\n                var y = this.date.getFullYear();\n                return `${y}-${m}-${d}`;\n            }\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  h1, h2 {\n    font-weight: normal;\n  }\n\n  ul {\n    list-style-type: none;\n    padding: 0;\n  }\n\n  li {\n    display: inline-block;\n    margin: 0 10px;\n  }\n\n  a {\n    color: #42b983;\n  }\n\n  #status {\n    color: red;\n  }\n\n  .button {\n    padding: 5px;\n    margin: 10px;\n    cursor: pointer;\n  }\n\n  #loading {\n    color: green;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Main.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(_vm._s(_vm.msg))]),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.simpleDate()))]),_vm._v(\" \"),_c('h4',{attrs:{\"id\":\"status\"}},[_vm._v(_vm._s(_vm.status))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"loading\"}},[_vm._v(_vm._s(_vm.loadingMsg))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}]},[_c('span',{staticClass:\"button\",on:{\"click\":function($event){return _vm.prev()}}},[_vm._v(\"prev\")]),_vm._v(\" \"),_c('span',{staticClass:\"button\",on:{\"click\":function($event){return _vm.next()}}},[_vm._v(\"next\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}]},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.imageUrl),expression:\"imageUrl\"}],attrs:{\"src\":_vm.imageUrl,\"width\":_vm.width,\"height\":_vm.height},on:{\"load\":function($event){return _vm.loadingOff()}}}),_vm._v(\" \"),_c('iframe',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.videoUrl),expression:\"videoUrl\"}],attrs:{\"src\":_vm.videoUrl,\"width\":_vm.width,\"height\":_vm.height},on:{\"load\":function($event){return _vm.loadingOff()}}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"explanation\"}},[_vm._v(_vm._s(_vm.explanation))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-302c1788\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Main.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-302c1788\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Main.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-302c1788\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Main.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-302c1788\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Main.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <Main/>\n  </div>\n</template>\n\n<script>\nimport Main from './components/Main'\n\nexport default {\n  name: 'App',\n  components: {\n    Main\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Main')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4d121373\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4d121373\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4d121373\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}