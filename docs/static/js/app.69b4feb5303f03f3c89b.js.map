{"version":3,"sources":["webpack:///src/components/Main.vue","webpack:///./src/components/Main.vue?4455","webpack:///./src/components/Main.vue","webpack:///src/App.vue","webpack:///./src/App.vue?9112","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["Main","name","data","msg","loadingMsg","status","cache","media","date","maxDate","width","height","loading","mounted","this","init","computed","mediaDate","imageUrl","media_type","url","videoUrl","explanation","methods","Date","setDate","getImage","prev","getDate","next","allowNext","self","simpleDate","localStorage","getItem","getMediaFromCache","loadingOn","axios_default","a","get","then","response","setItem","stringify_default","catch","error","loadingOff","finally","JSON","parse","d","m","getMonth","getFullYear","components_Main","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","on","click","$event","class","disabled","attrs","id","directives","rawName","value","expression","src","load","staticRenderFns","App","components","__webpack_require__","normalizeComponent","ssrContext","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","Vue","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.69b4feb5303f03f3c89b.js","sourcesContent":["<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <h2>\n      <span class=\"button\" @click=\"prev()\">&lt;</span>\n      <span>{{ simpleDate() }}</span>\n      <span class=\"button\" :class=\"{disabled: !allowNext()}\" @click=\"next()\">&gt;</span>\n    </h2>\n    <h4 id=\"status\">{{ status }}</h4>\n    <div v-show=\"loading\" id=\"loading\">{{ loadingMsg }}</div>\n    <div v-show=\"!loading\">\n    </div>\n    <div v-show=\"!loading\">\n      <img v-show=\"imageUrl\" :src=\"imageUrl\" :width=\"width\" :height=\"height\" @load=\"loadingOff()\">\n      <iframe v-show=\"videoUrl\" :src=\"videoUrl\" :width=\"width\" :height=\"height\" @load=\"loadingOff()\"></iframe>\n      <div id=\"explanation\">{{ explanation }}</div>\n    </div>\n  </div>\n</template>\n\n<script>\n    import axios from 'axios';\n    var src='https://api.nasa.gov/planetary/apod?api_key=LhxNNyeOUIv4VadRAeUUcCFVNyFXnJNZArX8fn9Z&date=';\n\n    export default {\n        name: 'Main',\n        data() {\n            return {\n                msg: 'NASA - Astronomy Picture of the Day',\n                loadingMsg: 'loading ...',\n                status: '',\n                cache: {},\n                media: null,\n                date: null,\n                maxDate: null,\n                width: 320,\n                height: 240,\n                loading: false\n            }\n        },\n        mounted() {\n            this.init();\n        },\n        computed: {\n            mediaDate() {\n                return this.media ? this.media.date : '';\n            },\n            imageUrl() {\n                return (this.media && this.media.media_type === 'image') ? this.media.url : '';\n            },\n            videoUrl() {\n                return (this.media && this.media.media_type === 'video') ? this.media.url : '';\n            },\n            explanation() {\n                return this.media ? this.media.explanation : '';\n            }\n        },\n        methods: {\n            init() {\n                this.maxDate = new Date();\n                this.setDate();\n            },\n            setDate(date) {\n                if(typeof date === 'undefined') {\n                    this.date = new Date();\n                } else {\n                    this.date.setDate(date);\n                }\n\n                this.getImage();\n            },\n            prev() {\n                this.setDate(this.date.getDate() - 1);\n            },\n            next() {\n                if(!this.allowNext()) {\n                    return;\n                }\n                this.setDate(this.date.getDate() + 1);\n            },\n            allowNext() {\n                return this.date < this.maxDate;\n            },\n            getImage() {\n                const self = this;\n                let date = this.simpleDate();\n\n                this.media = null;\n\n                let cached = localStorage.getItem(date);\n\n                if(cached) {\n                    self.getMediaFromCache();\n                } else {\n                    const url = src + date;\n                    self.loadingOn();\n                    axios.get(url)\n                        .then(function (response) {\n                            let data = response.data;\n                            localStorage.setItem(date, JSON.stringify(data));\n                            self.getMediaFromCache();\n                        })\n                        .catch(function (error) {\n                            self.status = error.response.data.msg;\n                            self.loadingOff();\n                        })\n                        .finally(function () {\n                        });\n                }\n            },\n            getMediaFromCache() {\n                this.media = JSON.parse(localStorage.getItem(this.simpleDate()));\n                this.status = '';\n            },\n            loadingOn() {\n                this.loading = true;\n            },\n            loadingOff() {\n                this.loading = false;\n            },\n            simpleDate() {\n                if (!this.date) {\n                    return null;\n                }\n                var d = this.date.getDate();\n                var m = this.date.getMonth() + 1;\n                var y = this.date.getFullYear();\n                return `${y}-${m}-${d}`;\n            }\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  h1, h2 {\n    font-weight: normal;\n  }\n\n  ul {\n    list-style-type: none;\n    padding: 0;\n  }\n\n  li {\n    display: inline-block;\n    margin: 0 10px;\n  }\n\n  a {\n    color: #42b983;\n  }\n\n  #status {\n    color: red;\n  }\n\n  .button {\n    font-weight: bold;\n    padding: 5px;\n    margin: 10px;\n    cursor: pointer;\n  }\n\n  #loading {\n    color: green;\n  }\n\n  .disabled {\n    color: lightgray;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Main.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(_vm._s(_vm.msg))]),_vm._v(\" \"),_c('h2',[_c('span',{staticClass:\"button\",on:{\"click\":function($event){return _vm.prev()}}},[_vm._v(\"<\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.simpleDate()))]),_vm._v(\" \"),_c('span',{staticClass:\"button\",class:{disabled: !_vm.allowNext()},on:{\"click\":function($event){return _vm.next()}}},[_vm._v(\">\")])]),_vm._v(\" \"),_c('h4',{attrs:{\"id\":\"status\"}},[_vm._v(_vm._s(_vm.status))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"loading\"}},[_vm._v(_vm._s(_vm.loadingMsg))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}]}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}]},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.imageUrl),expression:\"imageUrl\"}],attrs:{\"src\":_vm.imageUrl,\"width\":_vm.width,\"height\":_vm.height},on:{\"load\":function($event){return _vm.loadingOff()}}}),_vm._v(\" \"),_c('iframe',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.videoUrl),expression:\"videoUrl\"}],attrs:{\"src\":_vm.videoUrl,\"width\":_vm.width,\"height\":_vm.height},on:{\"load\":function($event){return _vm.loadingOff()}}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"explanation\"}},[_vm._v(_vm._s(_vm.explanation))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1d6f8d87\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Main.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d6f8d87\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Main.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d6f8d87\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Main.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1d6f8d87\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Main.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <Main/>\n  </div>\n</template>\n\n<script>\nimport Main from './components/Main'\n\nexport default {\n  name: 'App',\n  components: {\n    Main\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Main')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4d121373\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4d121373\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4d121373\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}